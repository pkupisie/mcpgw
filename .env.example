# MCP OAuth Gateway Configuration

# Gateway Settings
GW_BASE_URL=http://localhost:3000
DOMAIN_ROOT=copernicusone.com
PORT=3000
HOST=0.0.0.0

# Static Credentials (for demo/development)
LOCAL_USER=admin
LOCAL_PASSWORD=password123

# Security
SESSION_SECRET=your-session-secret-here
TOKEN_ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# MCP Server Registry (JSON array of server configurations)
# Each server needs OAuth 2.1 endpoints and credentials
MCP_SERVERS='[
  {
    "domain": "mcp.atlassian.com",
    "name": "Atlassian MCP",
    "authzEndpoint": "https://auth.atlassian.com/oauth/authorize",
    "tokenEndpoint": "https://auth.atlassian.com/oauth/token",
    "clientId": "your-atlassian-client-id",
    "clientSecret": "your-atlassian-client-secret",
    "scopes": "read:jira-work write:jira-work"
  },
  {
    "domain": "api.github.com",
    "name": "GitHub MCP",
    "authzEndpoint": "https://github.com/login/oauth/authorize",
    "tokenEndpoint": "https://github.com/login/oauth/access_token",
    "clientId": "your-github-client-id",
    "clientSecret": "your-github-client-secret",
    "scopes": "repo read:user"
  }
]'

# Server Allowlist (comma-separated domains, empty = allow all registered)
MCP_SERVER_ALLOWLIST=mcp.atlassian.com,api.github.com,mcp.example.com

# Legacy Single Server Support (for backward compatibility)
# Will be used if MCP_SERVERS is empty
UPSTREAM_AUTHORIZATION_ENDPOINT=http://localhost:4000/oauth/authorize
UPSTREAM_TOKEN_ENDPOINT=http://localhost:4000/oauth/token
UPSTREAM_CLIENT_ID=test-client
UPSTREAM_CLIENT_SECRET=test-secret
UPSTREAM_SCOPES=openid profile api

# Redirect URI (where upstream returns after auth)
REDIRECT_URI=http://localhost:3000/oauth/callback

# Upstream API Base (for legacy /api/* and /sse/* routes)
UPSTREAM_API_BASE=http://localhost:4000

# Optional Settings
LOG_LEVEL=info
COOKIE_SECURE=false
ALLOWED_ORIGINS=
SSE_HEARTBEAT_MS=12000

